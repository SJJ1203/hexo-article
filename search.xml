<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>fuck-categories</title>
      <link href="fuck/fuck-categories-0d6a65d8ec8d/"/>
      <url>fuck/fuck-categories-0d6a65d8ec8d/</url>
      
        <content type="html"><![CDATA[<p>fuck everything!</p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> fuck </category>
          
      </categories>
      
      
        <tags>
            
            <tag> fuck </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>test copy</title>
      <link href="blog/copy-3728e2ff5a1e/"/>
      <url>blog/copy-3728e2ff5a1e/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><span id="more"></span><div class="img-wrap"><div class="img-bg" style="background:var(--color-card)"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="博客logo" style="height:300px;"/></div><span class="image-caption">博客logo</span></div><div class="gallery stretch" col='2'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="随机图片"><br><img src="../../../../../logo.png" class="lazyload" data-srcset="../../../../../logo.png" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" alt="博客logo"></p>            </div><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new &quot;My New Post&quot;</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><h3 id="标签页的处理"><a href="#标签页的处理" class="headerlink" title="标签页的处理"></a>标签页的处理</h3><div class="tabs" id="code"><ul class="nav-tabs"><li class="tab active"><a class="#code-1">标签页的路由</a></li><li class="tab"><a class="#code-2">标签页的切换</a></li><li class="tab"><a class="#code-3">标签页的删除</a></li></ul><div class="tab-content"><div class="tab-pane active" id="code-1"><p>在上面的设计中父页面是一个唯一的值，带领着它的子页面，所以 <strong>父页面的路径存储一定不能携带参数</strong> ，但是 <strong>子页面的路径存储必须得携带参数</strong>。我们在 <code>TabComponent</code> 监听了路由切换事件，并通过它记录路由信息，这部分处理就在事件监听之中：</p><pre><code>let menuUrl &#x3D; menu.url, sameTabChild &#x3D; false, childComponent &#x3D; null;this.menuList.forEach(item &#x3D;&gt; {  &#x2F;&#x2F; 如果是子页面标签  if (item.isChild &amp;&amp; !sameTabChild) {    &#x2F;&#x2F;  相同的子页面组件名                                 不同的地址    if (item.componentName &#x3D;&#x3D;&#x3D; menu.componentName &amp;&amp; item.url !&#x3D;&#x3D; menuUrl) {      sameTabChild &#x3D; true;      childComponent &#x3D; item;    }    &#x2F;&#x2F;  当前页是子页面                子页面的子页面    if (menu.isChild &amp;&amp; item.parComponent &#x3D;&#x3D;&#x3D; menu.componentName ) {      sameTabChild &#x3D; true;      childComponent &#x3D; item;    }  }});&#x2F;&#x2F; 即将打开的页面为相同的子页面if (sameTabChild) {  const indexOfChild &#x3D; this.menuList.findIndex(p &#x3D;&gt; p.componentName &#x3D;&#x3D;&#x3D; childComponent.componentName);  this.menuList.splice(indexOfChild, 1); &#x2F;&#x2F; 删除原【子页面】记录值} else if (menu.isChild &#x3D;&#x3D;&#x3D; undefined) {  &#x2F;&#x2F; 为了确保唯一性，剔除可能存在的参数  const indexParam &#x3D; menu.url.indexOf(&#39;?&#39;);  menuUrl &#x3D; menu.url.substring(0, indexParam &#x3D;&#x3D;&#x3D; -1 ? menu.url.length : indexParam);}</code></pre></div><div class="tab-pane" id="code-2"><p>前文已经说了切换本质是路由跳转，而拿到的地址是网页 Url ，所以得先提取出参数部分转换为对象才能跳转。</p><pre><code>nzSelectChange(event) {  this.currentIndex &#x3D; event.index;  const menu &#x3D; this.menuList[this.currentIndex], temp &#x3D; menu.url.indexOf(&#39;?&#39;);  const params &#x3D; temp &#x3D;&#x3D;&#x3D; -1 ? null : this.getUrlParams(menu.url.substring(temp + 1, menu.url.length));  const url &#x3D; temp &#x3D;&#x3D;&#x3D; -1 ? menu.url : menu.url.substring(0, temp &#x3D;&#x3D;&#x3D; -1 ? menu.url.length : temp);  this.router.navigate([url], {    queryParams: params,  &#x2F;&#x2F; 存放可能的参数    skipLocationChange: true  })}&#x2F;&#x2F; Url 参数转 对象getUrlParams(url) {  if (url &#x3D;&#x3D;&#x3D; &#39;&#39;) return null;  let hash, myJson &#x3D; {}, hashes &#x3D; url.slice(url.indexOf(&#39;?&#39;) + 1).split(&#39;&amp;&#39;);  for (let i &#x3D; 0; i &lt; hashes.length; i++) {    hash &#x3D; hashes[i].split(&#39;&#x3D;&#39;);    myJson[hash[0]] &#x3D; decodeURIComponent(hash[1]);  }  return myJson;}</code></pre></div><div class="tab-pane" id="code-3"><p>大致的删除逻辑上文已经描述了，代码部分：</p><pre><code>&#x2F;&#x2F; 关闭选项标签closeUrl(menu) {  &#x2F;&#x2F; 如果只有一个不可以关闭  if (this.menuList.length &#x3D;&#x3D;&#x3D; 1) return;  &#x2F;&#x2F; 如果当前只剩下父页面和对应子页面，则不可以关闭父页面  if (this.menuList.length &#x3D;&#x3D;&#x3D; 2) {    if (this.menuList.some(item &#x3D;&gt; item.isChild      &amp;&amp; (item.parComponent &#x3D;&#x3D;&#x3D; menu.componentName || item.commonComponent &#x3D;&#x3D;&#x3D; menu.componentName))) {      return;    }  }  &#x2F;&#x2F; 当前关闭的是第几个路由  const index &#x3D; this.menuList.findIndex(p &#x3D;&gt; p.url &#x3D;&#x3D;&#x3D; menu.url);  if (index &#x3D;&#x3D;&#x3D; -1) {  &#x2F;&#x2F; 子页面的子页面返回子页面时造成的  （坏笑    return;  }  &#x2F;&#x2F; 寻找可能存在的子页面  const childComponent &#x3D; this.menuList.filter(item &#x3D;&gt; this.menuList[index].isChild &#x3D;&#x3D;&#x3D; undefined    &amp;&amp; item.parComponent &#x3D;&#x3D;&#x3D; this.menuList[index].componentName) || [];  &#x2F;&#x2F; 寻找可能存在的子页面的剩下子页面  this.menuList.filter(item &#x3D;&gt; this.menuList[index].isChild &#x3D;&#x3D;&#x3D; undefined    &#x2F;&#x2F; 本身必须是父页面    &amp;&amp; item.commonComponent &#x3D;&#x3D;&#x3D; this.menuList[index].componentName &#x2F;&#x2F; 祖先    &amp;&amp; item.parComponent !&#x3D;&#x3D; this.menuList[index].componentName  &#x2F;&#x2F; 不是第一个子页面  ).forEach(item &#x3D;&gt; {    childComponent.push(item);  });  &#x2F;&#x2F; 删除  if (childComponent.length &#x3D;&#x3D;&#x3D; 0) {    this.deleteTabs(menu);  } else {    this.modal.confirm({      nzContent: &#39;【&#39; + childComponent[0].title + &#39;】页将一并关闭，是否继续？&#39;,      nzCancelText: &#39;否&#39;,      nzOkText: &#39;是&#39;,      nzOkType: &#39;danger&#39;,      nzOnOk: () &#x3D;&gt; {        childComponent.forEach(item &#x3D;&gt; {          this.deleteTabs(menu, item);        })      }    });  }}&#x2F;&#x2F; 执行 Tab 删除deleteTabs(menu, childComponent &#x3D; null) {  const index &#x3D; this.menuList.findIndex(p &#x3D;&gt; p.url &#x3D;&#x3D;&#x3D; menu.url);  const indexMenuParam &#x3D; menu.url.indexOf(&#39;?&#39;);  const path &#x3D; menu.url.substring(0, indexMenuParam &#x3D;&#x3D;&#x3D; -1 ? menu.url.length : indexMenuParam) + &#39;_&#39; + menu.componentName;  this.menuList.splice(index, 1); &#x2F;&#x2F; 删除父  SimpleReuseStrategy.deleteRouteSnapshot(path); &#x2F;&#x2F; 删除复用  &#x2F;&#x2F; 删除子  if (childComponent) {    const indexOfChild &#x3D; this.menuList.findIndex(p &#x3D;&gt; p.componentName &#x3D;&#x3D;&#x3D; childComponent.componentName);    const indexChildParam &#x3D; childComponent.url.indexOf(&#39;?&#39;);    const childPath &#x3D; childComponent.url.substring(0, indexChildParam &#x3D;&#x3D;&#x3D; -1 ? childComponent.url.length : indexChildParam)      + &#39;_&#39; + childComponent.componentName;    this.menuList.splice(indexOfChild, 1); &#x2F;&#x2F; 删除子页面    SimpleReuseStrategy.deleteRouteSnapshot(childPath);  &#x2F;&#x2F; 删除子页面复用  }  this.settingsService.setMenuList(this.menuList);  &#x2F;&#x2F; 记录  &#x2F;&#x2F; 如果当前删除的对象是当前选中的，那么需要跳转  if (this.currentUrl &#x3D;&#x3D;&#x3D; menu.url) {    &#x2F;&#x2F; 显示上一个选中    let menu &#x3D; this.menuList[index - 1];    if (!menu) {&#x2F;&#x2F; 如果上一个没有下一个选中      menu &#x3D; this.menuList[index];    }    &#x2F;&#x2F; 跳转路由    this.router.navigate([menu.url]);  }}</code></pre></div></div></div>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Deploy Hexo</title>
      <link href="blog/Deploy-Hexo-a514cba9ac6d/"/>
      <url>blog/Deploy-Hexo-a514cba9ac6d/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new &quot;My New Post&quot;</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
